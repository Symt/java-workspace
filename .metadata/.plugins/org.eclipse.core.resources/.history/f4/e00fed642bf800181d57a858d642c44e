package clock.main;

import java.awt.Color;
import java.awt.Dimension;
import java.awt.Graphics;
import java.util.Calendar;

import javax.swing.JFrame;

public class Main extends JFrame {
	private static final long serialVersionUID = 1L;
	PanelWrapper pw = new PanelWrapper(500, 500);

	public Main() {
		setSize(500, 500);
		setBackground(Color.white);
		setLocationRelativeTo(null);
		setVisible(true);

		pw.setSize(500, 480);
		pw.setPreferredSize(new Dimension(500, 480));

		add(pw);
		run();
	}

	public void paint(Graphics g) {
		super.paint(g);
		pw.repaint();
	}

	public static void main(String[] args) {
		new Main();
	}

	public void run() {
		Calendar c = Calendar.getInstance();
		long endTime = System.currentTimeMillis();
		while (true) {
			if (System.currentTimeMillis() - endTime >= 1000/60) {
				System.out.println((System.nanoTime() % 1000000000 / (double) 500000000) * 60);
				pw.setAngle(new double[] { 0, (c.get(Calendar.SECOND)});
				repaint();
				endTime = System.currentTimeMillis();
			}
		}
	}
}
